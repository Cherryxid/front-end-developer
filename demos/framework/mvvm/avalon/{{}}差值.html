<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" type="text/css" href="../../../sourceLib/css/base.css">
	
	<script type="text/javascript" src="avalon.0.7.js"></script>
	<style>
		
	</style>
</head>
<body>
	<div ms-controller = "testExprCtrl">
		<input type ="text" ms-model = "name1"/>
		<input type ="text" ms-model = "name2"/>
		<input type ="text" ms-model = "name3"/>
		<input type = "radio" ms-model="isCheck"/>
		<input type = "checkbox" ms-checked="isCheck"/>
		 {{name1 | nameAll}} <!-- 管道风格。。。不太理解 -->
	</div>
	<script type="text/javascript">
		/*
				avalon.scan(elem?, scope?) elem为要扫描的元素，scope为viewModel
					若不传参数，则扫描所有的
		    	开始扫描DOM树，抽取绑定。
		    	若avalon.define 在avalon.ready中执行，则需要执行 .scan操作
		*/
		(function(){
			avalon.ready(function() {
				
			    avalon.define("testExprCtrl", [], function(vm) {
			        vm.name1 = "name1";
			        vm.name2 = "name2";
			        vm.name3 = "name3";
			        vm.isCheck = false;
			        vm.nameAll = {
			        	get:function(){
							return this.name1 + ","+this.name2 +","+ this.name3;
			        	}
			        	
			        };
			        // 会影响。。。
			        // vm.watch("isCheck",function(newVal){
			        // 	vm.canShow = newVal;
			        // 	console.log(vm.canShow,"isCheck changed")
			        // })
			        vm.canShow = {
			        	get:function(){
			        		console.log(vm.isCheck);
			        		return vm.isCheck;
			        	}
			        };
			       
			    });
			     
			    avalon.scan();
			});
		})();
		
	</script>
</body>
</html>