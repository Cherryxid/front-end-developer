<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" type="text/css" href="../../../sourceLib/css/base.css">
	
	<script type="text/javascript" src="avalon.0.7.js"></script>
</head>
<body>
	<div ms-controller="form">
	     <div ms-each-el="fruits" >
	         <h3>{{el.name}}</h3>
	         <p>这是第{{$index}}个了</p>
	         <hr/>
	     </div>
	     <button ms-click="push">push</button>
	     <button ms-click="pop">pop</button>
	     <button ms-click="replace">replace</button>
	     <ol ms-each-eachElem="numbers" >
         	<li>{{eachElem}}</li>
         </ol>
 	/div>
	<script type="text/javascript">
		/*  function Collection 中定义了许多 扩展Array的方法*/
		avalon.ready(function() {
		    var model = avalon.define("form", [], function(vm) {
		        vm.fruits = [{name: "xxx"}, {name: "yyy"}, {name: "ooo"}, {name: "ppp"}]
		        vm.numbers = [1, 2, 3, 4]
		        vm.push = function() {
		            vm.fruits.push({name: "ccccccccc"})
		        }
		        vm.pop = function() {
		            vm.fruits.pop()
		        }
		        vm.replace = function() {
		            vm.fruits = [{name: 1}, {name: 2}]
		        }
		    });
		    setTimeout(function() {
		        model.fruits.set(1, {name: "等4秒"})//设置数组某项的值
		        model.numbers.set(3, 20)
		    }, 4000)
		 
		    setTimeout(function() {
		        model.fruits[0].name = "等六秒"//对于对象数组,直接在对象上修改
		        model.numbers.set(2, 40)
		    }, 6000)
		    avalon.scan();
		})
		
	</script>
</body>
</html>